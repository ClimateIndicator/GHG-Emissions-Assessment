data_table$label <- as.factor(data_table$label)
data_table$label <- fct_relevel(data_table$label,"GHG","CO2-FFI","CO2-LULUCF","CH4","N2O","F-gases")
data_table <- spread(data_table,cut,value)
write.xlsx(data_table,'results/section_2_2_table.xlsx')
write.csv(data_table,'results/section_2_2_table.csv',row.names = FALSE)
write.csv(spread(data_ghg,label,value),'results/ghg_emissions_co2e.csv',row.names = FALSE)
write.xlsx(spread(data_ghg,label,value),'results/ghg_emissions_co2e.xlsx')
load("sources/IPCC AR6 WG3 data/data_land_co2.RData")
load("sources/IPCC AR6 WG3 data/data_edgar_ghg.RData")
data_ar6 <- edgar_ghg %>%
group_by(year) %>%
summarise_at(vars(CO2,CH4,N2O,Fgas),sum,na.rm=TRUE)
data_ar6 <- left_join(data_ar6,land %>%
filter(year>=1970) %>%
group_by(year) %>%
summarise(`CO2-LUC`=sum(mean,na.rm=TRUE)))
data_ar6  <- gather(data_ar6,source,value_ar6,-year) %>%
mutate(value_ar6=value_ar6/1e9) %>%
mutate(source=ifelse(source=="CO2","CO2-FFI",source)) %>%
mutate(source=ifelse(source=="Fgas","F-gases",source))
### 2019
data_comparison <- left_join(data_ghg,data_ar6) %>%
filter(year==2019)
View(data_comparison)
load("sources/IPCC AR6 WG3 data/data_land_co2.RData")
load("sources/IPCC AR6 WG3 data/data_edgar_ghg.RData")
data_ar6 <- edgar_ghg %>%
group_by(year) %>%
summarise_at(vars(CO2,CH4,N2O,Fgas),sum,na.rm=TRUE)
data_ar6 <- left_join(data_ar6,land %>%
filter(year>=1970) %>%
group_by(year) %>%
summarise(`CO2-LUC`=sum(mean,na.rm=TRUE)))
data_ar6  <- gather(data_ar6,source,value_ar6,-year) %>%
mutate(value_ar6=value_ar6/1e9) %>%
mutate(source=ifelse(source=="CO2","CO2-FFI",source)) %>%
mutate(source=ifelse(source=="Fgas","F-gases",source))
load("sources/IPCC AR6 WG3 data/data_land_co2.RData")
load("sources/IPCC AR6 WG3 data/data_edgar_ghg.RData")
data_ar6 <- edgar_ghg %>%
group_by(year) %>%
summarise_at(vars(CO2,CH4,N2O,Fgas),sum,na.rm=TRUE)
data_ar6 <- left_join(data_ar6,land %>%
filter(year>=1970) %>%
group_by(year) %>%
summarise(`CO2-LUC`=sum(mean,na.rm=TRUE)))
data_ar6  <- gather(data_ar6,label,value_ar6,-year) %>%
mutate(value_ar6=value_ar6/1e9) %>%
mutate(label=ifelse(label=="CO2","CO2-FFI",label)) %>%
mutate(label=ifelse(label=="Fgas","F-gases",label))
### 2019
data_comparison <- left_join(data_ghg,data_ar6) %>%
filter(year==2019)
data_comparison <- left_join(data_comparison,uncertainties,by="label")
data_comparison <- data_comparison %>%
mutate(uncertainty_abs=value*uncertainty) %>%
mutate(uncertainty_abs=uncertainty_abs^2) %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE),
uncertainty_abs=sqrt(sum(uncertainty_abs,na.rm=TRUE)))
load("sources/IPCC AR6 WG3 data/data_land_co2.RData")
load("sources/IPCC AR6 WG3 data/data_edgar_ghg.RData")
data_ar6 <- edgar_ghg %>%
group_by(year) %>%
summarise_at(vars(CO2,CH4,N2O,Fgas),sum,na.rm=TRUE)
data_ar6 <- left_join(data_ar6,land %>%
filter(year>=1970) %>%
group_by(year) %>%
summarise(`CO2-LUC`=sum(mean,na.rm=TRUE)))
data_ar6  <- gather(data_ar6,label,value_ar6,-year) %>%
mutate(value_ar6=value_ar6/1e9) %>%
mutate(label=ifelse(label=="CO2","CO2-FFI",label)) %>%
mutate(label=ifelse(label=="Fgas","F-gases",label))
### 2019
data_comparison <- left_join(data_ghg,data_ar6) %>%
filter(year==2019)
View(data_ar6)
load("sources/IPCC AR6 WG3 data/data_land_co2.RData")
load("sources/IPCC AR6 WG3 data/data_edgar_ghg.RData")
data_ar6 <- edgar_ghg %>%
group_by(year) %>%
summarise_at(vars(CO2,CH4,N2O,Fgas),sum,na.rm=TRUE)
data_ar6 <- left_join(data_ar6,land %>%
filter(year>=1970) %>%
group_by(year) %>%
summarise(`CO2-LUC`=sum(mean,na.rm=TRUE)))
data_ar6  <- gather(data_ar6,label,value_ar6,-year) %>%
mutate(value_ar6=value_ar6/1e9) %>%
mutate(label=ifelse(label=="CO2","CO2-FFI",label)) %>%
mutate(label=ifelse(label=="Fgas","F-gases",label)) %>%
mutate(label=ifelse(label=="CO2-LUC","CO2-LULUCF",label))
data_comparison <- left_join(data_ghg,data_ar6) %>%
filter(year==2019)
data_comparison <- left_join(data_comparison,uncertainties,by="label")
data_comparison <- data_comparison %>%
mutate(uncertainty_abs=value*uncertainty) %>%
mutate(uncertainty_abs=uncertainty_abs^2) %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE),
uncertainty_abs=sqrt(sum(uncertainty_abs,na.rm=TRUE)))
data_comparison <- data_ghg %>%
filter(year>=2010) %>%
filter(year<=2019) %>%
group_by(label) %>%
summarise(value=mean(value))
data_comparison <- left_join(data_comparison,uncertainties,by="label")
data_comparison <- data_comparison %>%
mutate(uncertainty_abs=value*uncertainty) %>%
mutate(uncertainty_abs=uncertainty_abs^2) %>%
mutate(year="2010-2019") %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE),
uncertainty_abs=sqrt(sum(uncertainty_abs,na.rm=TRUE)))
View(data_ghg)
View(data_fgases)
data_comparison <- left_join(data_ghg,data_ar6) %>%
filter(year==2019)
data_comparison <- left_join(data_comparison,uncertainties,by="label")
data_comparison <- data_comparison %>%
mutate(uncertainty_abs=value*uncertainty) %>%
mutate(uncertainty_abs=uncertainty_abs^2) %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE),
uncertainty_abs=sqrt(sum(uncertainty_abs,na.rm=TRUE)))
data_comparison <- data_ghg %>%
filter(year>=2010) %>%
filter(year<=2019) %>%
group_by(label) %>%
summarise(value=mean(value))
data_comparison <- left_join(data_comparison,uncertainties,by="label")
data_comparison <- data_comparison %>%
mutate(uncertainty_abs=value*uncertainty) %>%
mutate(uncertainty_abs=uncertainty_abs^2) %>%
mutate(year="2010-2019") %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE),
uncertainty_abs=sqrt(sum(uncertainty_abs,na.rm=TRUE)))
data_comparison <- left_join(data_ghg,data_ar6) %>%
filter(year==2019)
data_comparison <- left_join(data_comparison,uncertainties,by="label")
data_comparison <- data_comparison %>%
mutate(difference=value-value_ar6)
sum(data_comparison$value)-sum(data_comparison$value_ar6)
data_comparison <- data_comparison %>%
mutate(uncertainty_abs=value*uncertainty) %>%
mutate(uncertainty_abs=uncertainty_abs^2) %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE),
uncertainty_abs=sqrt(sum(uncertainty_abs,na.rm=TRUE)))
data_comparison <- left_join(data_ghg,data_ar6) %>%
filter(year==2019)
data_comparison <- left_join(data_comparison,uncertainties,by="label")
data_comparison <- data_comparison %>%
mutate(difference=value-value_ar6)
data_comparison <- data_comparison %>%
filter(var!="co2_luc") %>%
mutate(uncertainty_abs=value*uncertainty) %>%
mutate(uncertainty_abs=uncertainty_abs^2) %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE),
uncertainty_abs=sqrt(sum(uncertainty_abs,na.rm=TRUE)))
data_comparison <- left_join(data_ghg,data_ar6) %>%
filter(year==2019)
data_comparison <- left_join(data_comparison,uncertainties,by="label")
data_comparison <- data_comparison %>%
mutate(difference=value-value_ar6) %>%
filter(var!="co2_luc")
sum(data_comparison$value)-sum(data_comparison$value_ar6)
install.packages("BiocManager")
BiocManager::install("rhdf5")
knitr::opts_chunk$set(echo = FALSE)
rm(list = ls())
# install.packages("BiocManager")
# BiocManager::install("rhdf5")
library(tidyverse)
install.packages('tidyverse')
install.packages("tidyverse")
install.packages("tidyverse")
install.packages("tidyverse")
install.packages("tidyverse")
install.packages('Rtools')
install.packages('xfun')
# install.packages("BiocManager")
# BiocManager::install("rhdf5")
library(tidyverse)
install.packages('ggplot2')
install.packages("ggplot2")
install.packages("ggplot2")
knitr::opts_chunk$set(echo = FALSE)
rm(list = ls())
# install.packages("BiocManager")
# BiocManager::install("rhdf5")
library(tidyverse)
install.packages('rlang')
install.packages("rlang")
install.packages("rlang")
knitr::opts_chunk$set(echo = FALSE)
rm(list = ls())
# install.packages("BiocManager")
# BiocManager::install("rhdf5")
library(tidyverse)
knitr::opts_chunk$set(echo = FALSE)
rm(list = ls())
# install.packages("BiocManager")
# BiocManager::install("rhdf5")
library(tidyverse)
library(openxlsx)
library(countrycode)
library(ggrepel)
library(patchwork)
library(zoo)
library(RColorBrewer)
library(arhdf5)
install.packages("BiocManager")
BiocManager::install("rhdf5")
knitr::opts_chunk$set(echo = FALSE)
rm(list = ls())
# install.packages("BiocManager")
# BiocManager::install("rhdf5")
library(tidyverse)
library(openxlsx)
library(countrycode)
library(ggrepel)
library(patchwork)
library(zoo)
library(RColorBrewer)
library(arhdf5)
library(rhdf5)
knitr::opts_chunk$set(echo = FALSE)
rm(list = ls())
# install.packages("BiocManager")
# BiocManager::install("rhdf5")
library(tidyverse)
library(openxlsx)
library(countrycode)
library(ggrepel)
library(patchwork)
library(zoo)
library(RColorBrewer)
library(rhdf5)
blarg <- https://www.geo.vu.nl/~gwerf/GFED/GFED4/GFED4.1s_2000.hdf5
blarg <- h5read(file="https://www.geo.vu.nl/~gwerf/GFED/GFED4/GFED4.1s_2000.hdf5")
??h5read
?rhdf5
#for (i in 1:)
blarg <- read.csv("https://www.geo.vu.nl/~gwerf/GFED/GFED4/tables/GFED4.1s_CH4.txt")
#for (i in 1:)
blarg <- read.table("https://www.geo.vu.nl/~gwerf/GFED/GFED4/tables/GFED4.1s_CH4.txt")
knitr::opts_chunk$set(echo = FALSE)
rm(list = ls())
library(tidyverse)
library(openxlsx)
library(countrycode)
library(ggrepel)
library(patchwork)
library(zoo)
library(RColorBrewer)
data_gfed_ch4 <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_CH4")
View(data_gfed_ch4)
data_gfed_ch4 <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_CH4",startRow = 3)
data_gfed_ch4 <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_CH4",startRow = 4)
data_gfed_ch4 <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_CH4",rows = 19)
View(data_gfed_ch4)
data_gfed_ch4 <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_CH4",rows = c(4,19))
data_gfed_ch4 <- gather(data_gfed_ch4,year,value,`1997`:`2022`)
## Global Carbon Project CO2 FFI (https://www.icos-cp.eu/science-and-impact/global-carbon-budget/2022)
data_gcb_co2_ffi <- read.xlsx("sources/GCB/Global_Carbon_Budget_2022v1.0.xlsx",sheet=2,startRow = 21)
data_gcb_co2_ffi <- data_gcb_co2_ffi %>%
select(year=Year,value=fossil.emissions.excluding.carbonation)
data_gcb_co2_ffi <- data_gcb_co2_ffi %>%
mutate(source="GCB v2022*") %>%
mutate(value=value*(44/12)) %>%
mutate(var="co2_ffi") %>%
mutate(units="GtCO2")
## Global Carbon Project CO2 LUC (https://www.icos-cp.eu/science-and-impact/global-carbon-budget/2022)
data_gcb_co2_luc <- read.xlsx("sources/GCB/Global_Carbon_Budget_2022v1.0.xlsx",sheet=5,startRow = 30,cols = c(1,2,6,9,12))
names(data_gcb_co2_luc) <- c("year","GCB v2022*","H&N","BLUE","OSCAR")
data_gcb_co2_luc <- gather(data_gcb_co2_luc,source,value,-year)
data_gcb_co2_luc <- data_gcb_co2_luc %>%
mutate(value=value*(44/12)) %>%
mutate(var="co2_luc") %>%
mutate(units="GtCO2")
# data_gcb_co2_luc_dgvm <- read.xlsx("sources/GCB/Global_Carbon_Budget_2022v1.0.xlsx",sheet=5,startRow = 29,cols = c(1,33,34))
# names(data_gcb_co2_luc_dgvm) <- c("year","dgvm_mean","dgvm_spread")
# data_gcb_co2_luc_dgvm <- data_gcb_co2_luc_dgvm %>%
#   mutate(dgvm_high=dgvm_mean+dgvm_spread) %>%
#   mutate(dgvm_low=dgvm_mean-dgvm_spread) %>%
#   select(year,dgvm_high,dgvm_low,dgvm_mean)
# data_gcb_co2_luc_dgvm <- gather(data_gcb_co2_luc_dgvm,source,value,-year)
# data_gcb_co2_luc_dgvm <- data_gcb_co2_luc_dgvm %>%
#   mutate(value=value*(44/12)) %>%
#   mutate(var="co2_luc") %>%
#   mutate(units="GtCO2") %>%
#   mutate(source=ifelse(source=="dgvm_mean","DGVM mean",source))
# EDGAR CO2 (https://edgar.jrc.ec.europa.eu/dataset_ghg70)
data_edgar_co2_ffi <- read.xlsx("sources/EDGAR/IEA_EDGAR_CO2_1970-2021.xlsx",sheet=1,startRow = 11)
data_edgar_co2_ffi <- gather(data_edgar_co2_ffi,year,value,Y_1970:Y_2021)
data_edgar_co2_ffi$year <- gsub("Y_","",data_edgar_co2_ffi$year)
data_edgar_co2_ffi <- data_edgar_co2_ffi %>%
select(iso=Country_code_A3,country=Name,code=ipcc_code_2006_for_standard_report,gas=Substance,fossil_bio,year,value)
data_edgar_co2_ffi <- data_edgar_co2_ffi %>%
filter(fossil_bio=="fossil") %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE)/1e6) %>%
mutate(units="GtCO2") %>%
mutate(source="EDGAR v7.0") %>%
mutate(var="co2_ffi")
# EDGAR CH4 (https://edgar.jrc.ec.europa.eu/dataset_ghg70)
data_edgar_ch4 <- read.xlsx("sources/EDGAR/EDGAR_CH4_1970-2021.xlsx",sheet=1,startRow = 11)
data_edgar_ch4 <- gather(data_edgar_ch4,year,value,Y_1970:Y_2021)
data_edgar_ch4$year <- gsub("Y_","",data_edgar_ch4$year)
data_edgar_ch4 <- data_edgar_ch4 %>%
select(iso=Country_code_A3,country=Name,code=ipcc_code_2006_for_standard_report,gas=Substance,fossil_bio,year,value)
data_edgar_ch4 <- data_edgar_ch4 %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE)/1000) %>%
mutate(units="MtCH4") %>%
mutate(source="EDGAR v7.0") %>%
mutate(var="ch4")
# EDGAR N2O (https://edgar.jrc.ec.europa.eu/dataset_ghg70)
data_edgar_n2o <- read.xlsx("sources/EDGAR/EDGAR_N2O_1970-2021.xlsx",sheet=1,startRow = 11)
data_edgar_n2o <- gather(data_edgar_n2o,year,value,Y_1970:Y_2021)
data_edgar_n2o$year <- gsub("Y_","",data_edgar_n2o$year)
data_edgar_n2o <- data_edgar_n2o %>%
select(iso=Country_code_A3,country=Name,code=ipcc_code_2006_for_standard_report,gas=Substance,fossil_bio,year,value)
data_edgar_n2o <- data_edgar_n2o %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE)/1000) %>%
mutate(units="MtN2O") %>%
mutate(source="EDGAR v7.0") %>%
mutate(var="n2o")
# CEDS CH4 (https://zenodo.org/record/4741285)
data_ceds_ch4 <- read.csv("sources/CEDS/CH4_CEDS_emissions_by_country_2021_04_21.csv")
data_ceds_ch4 <- gather(data_ceds_ch4,year,value,X1970:X2019)
data_ceds_ch4$year <- gsub("X","",data_ceds_ch4$year)
data_ceds_ch4 <- data_ceds_ch4 %>%
select(iso=country,gas=em,year,value)
data_ceds_ch4 <- data_ceds_ch4 %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE)/1000) %>%
mutate(units="MtCH4") %>%
mutate(source="CEDS v2021.4.21") %>%
mutate(var="ch4")
# CEDS CO2 (https://zenodo.org/record/4741285)
data_ceds_co2_ffi <- read.csv("sources/CEDS/CO2_CEDS_emissions_by_country_2021_04_21.csv")
data_ceds_co2_ffi <- gather(data_ceds_co2_ffi,year,value,X1750:X2019)
data_ceds_co2_ffi$year <- gsub("X","",data_ceds_co2_ffi$year)
data_ceds_co2_ffi <- data_ceds_co2_ffi %>%
select(iso=country,gas=em,year,value)
data_ceds_co2_ffi <- data_ceds_co2_ffi %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE)/1e6) %>%
mutate(units="GtCO2") %>%
mutate(source="CEDS v2021.4.21") %>%
mutate(var="co2_ffi")
# CEDS N2O (https://zenodo.org/record/4741285)
data_ceds_n2o <- read.csv("sources/CEDS/N2O_CEDS_emissions_by_country_2021_04_21.csv")
data_ceds_n2o <- gather(data_ceds_n2o,year,value,X1970:X2019)
data_ceds_n2o$year <- gsub("X","",data_ceds_n2o$year)
data_ceds_n2o <- data_ceds_n2o %>%
select(iso=country,gas=em,year,value)
data_ceds_n2o <- data_ceds_n2o %>%
group_by(year) %>%
summarise(value=sum(value,na.rm=TRUE)/1000) %>%
mutate(units="MtN2O") %>%
mutate(source="CEDS v2021.4.21") %>%
mutate(var="n2o")
# PRIMAP
data_primap <- read.csv("sources/PRIMAP/Guetschow-et-al-2023a-PRIMAP-hist_v2.4.2_final_09-Mar-2023.csv")
data_primap <- gather(data_primap,year,value,X1750:X2021)
data_primap$year <- gsub("X","",data_primap$year)
names(data_primap) <- c("source","scenario","area","gas","unit","category","year","value")
data_primap <- data_primap %>%
filter(scenario=="HISTCR") %>%
filter(category=="M.0.EL") %>%
filter(area=="EARTH")
data_primap_n2o <- data_primap %>%
filter(gas=="N2O") %>%
group_by(year) %>%
summarise(value=sum(value,na.rm = TRUE)/1000) %>%
mutate(units="MtN2O") %>%
mutate(source="PRIMAP v2.4.2*") %>%
mutate(var="n2o")
data_primap_ch4 <- data_primap %>%
filter(gas=="CH4") %>%
group_by(year) %>%
summarise(value=sum(value,na.rm = TRUE)/1000) %>%
mutate(units="MtCH4") %>%
mutate(source="PRIMAP v2.4.2*") %>%
mutate(var="ch4")
data_primap_co2_ffi <- data_primap %>%
filter(gas=="CO2") %>%
group_by(year) %>%
summarise(value=sum(value,na.rm = TRUE)/1e6) %>%
mutate(units="GtCO2") %>%
mutate(source="PRIMAP v2.4.2") %>%
mutate(var="co2_ffi")
## F-gas emissions (from Chris Smith's compiled data)
data_fgases <- read.csv("sources/primap_ceds_gfed_inv_1750-2021.csv")
list_fgases <- data_fgases$Variable[12:52]
data_fgases <- gather(data_fgases,year,value,X1750:X2021)
data_fgases$year <- gsub("X","",data_fgases$year)
data_fgases <- data_fgases %>%
mutate(gas=Variable) %>%
select(var=Variable,gas,units=Unit,year,value) %>%
filter(var %in% c(list_fgases))
data_fgases$gas <- gsub("Emissions","",data_fgases$gas)
data_fgases$gas <- gsub("\\|","",data_fgases$gas)
data_fgases$gas <- gsub("-","",data_fgases$gas)
#join GWPs from openclimatedata
gwps <- read.csv("https://raw.githubusercontent.com/openclimatedata/globalwarmingpotentials/main/globalwarmingpotentials.csv",skip = 9)
data_fgases <- left_join(data_fgases,gwps %>% select(gas=Species,AR6GWP100))
data_fgases <- data_fgases %>%
mutate(value=value*AR6GWP100)
list_fgases <- data.frame(var=list_fgases)
list_fgases <- list_fgases %>%
mutate(group=ifelse(grepl("CFC",var),"ODS F-gases",NA)) %>%
mutate(group=ifelse(grepl("HCFC",var),"ODS F-gases",group)) %>%
mutate(group=ifelse(grepl("HFC",var),"UNFCCC F-gases",group)) %>%
mutate(group=ifelse(grepl("Halon",var),"ODS F-gases",group)) %>%
mutate(group=ifelse(grepl("NF3",var),"UNFCCC F-gases",group)) %>%
mutate(group=ifelse(grepl("SF6",var),"UNFCCC F-gases",group)) %>%
mutate(group=ifelse(is.na(group),"UNFCCC F-gases",group))
data_fgases <- left_join(data_fgases,list_fgases,by="var")
data_fgases <- data_fgases %>%
group_by(year,group) %>%
summarise(value=sum(value,na.rm=TRUE)/1e6) %>%
mutate(source=ifelse(group=="ODS F-gases",paste0(group,"\n CIP v2023.04"),paste0(group,"\n CIP v2023.04*"))) %>%
mutate(var="fgases") %>%
mutate(units="GtCO2e") %>%
select(-group)
data_gfed_ch4 <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_CH4",rows = c(4,19))
data_gfed_ch4 <- gather(data_gfed_ch4,year,value,`1997`:`2022`)
data_gfed_ch4 <- data_gfed_ch4 %>%
View(data_edgar_ch4)
data_gfed_ch4 <- data_gfed_ch4 %>%
mutate(var="ch4") %>%
select(year,var,value)
View(data_edgar_ch4)
data_ch4_n2o_gfed <- read.csv("sources/primap_ceds_gfed_inv_1750-2021.csv")
data_ch4_n2o_gfed <- gather(data_ch4_n2o_gfed,year,value,X1750:X2021)
data_ch4_n2o_gfed$year <- gsub("X","",data_ch4_n2o_gfed$year)
data_ch4_n2o_gfed <- data_ch4_n2o_gfed %>%
filter(Variable %in% c("Emissions|CH4","Emissions|N2O")) %>%
mutate(units=ifelse(Variable=="Emissions|CH4","MtCH4","MtN2O")) %>%
mutate(var=ifelse(Variable=="Emissions|CH4","ch4","n2o")) %>%
mutate(source="PRIMAP v2.4.2 & GFED") %>%
select(year,value,units,source,var)
View(data_ch4_n2o_gfed)
View(data_primap_ch4)
382.538716-318.0
data_gfed_ch4 <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_CH4",rows = c(4,19))
data_gfed_ch4 <- gather(data_gfed_ch4,year,value,`1997`:`2022`)
data_gfed_ch4 <- data_gfed_ch4 %>%
mutate(var="ch4") %>%
select(year,var,value) %>%
mutate(value=value/1E10) %>% #1e10 grams to grams
mutate(value=value)
data_gfed_ch4 <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_CH4",rows = c(4,19))
data_gfed_ch4 <- gather(data_gfed_ch4,year,value,`1997`:`2022`)
data_gfed_ch4 <- data_gfed_ch4 %>%
mutate(var="ch4") %>%
select(year,var,value) %>%
mutate(value=value*1E10) %>% #1e10 grams to grams
mutate(value=value)
data_gfed_ch4 <- data_gfed_ch4 %>%
mutate(var="ch4") %>%
select(year,var,value) %>%
mutate(value=value*1E10) %>% #1e10 grams to grams
mutate(value=value/1e6)
data_gfed_ch4 <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_CH4",rows = c(4,19))
data_gfed_ch4 <- gather(data_gfed_ch4,year,value,`1997`:`2022`)
data_gfed_ch4 <- data_gfed_ch4 %>%
mutate(var="ch4") %>%
select(year,var,value) %>%
mutate(value=value*1E10) %>% #1e10 grams to grams
mutate(value=value/1e6)
data_gfed_ch4 <- data_gfed_ch4 %>%
mutate(var="ch4") %>%
select(year,var,value) %>%
mutate(value=value*1E10) %>% #1e10 grams to grams
mutate(value=value/1e6) %>%
mutate(value=value/1e6)
data_gfed_ch4 <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_CH4",rows = c(4,19))
data_gfed_ch4 <- gather(data_gfed_ch4,year,value,`1997`:`2022`)
data_gfed_ch4 <- data_gfed_ch4 %>%
mutate(var="ch4") %>%
select(year,var,value) %>%
mutate(value=value*1E10) %>% #1e10 grams to grams
mutate(value=value/1e6) %>%
mutate(value=value/1e6)
data_gfed_n2o <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_N2O",rows = c(4,19))
data_gfed_n2o <- gather(data_gfed_n2o,year,value,`1997`:`2022`)
View(data_gfed_n2o)
data_gfed_n2o <- read.xlsx("sources/GFED/GFED4.1s.xlsx",sheet="GFED_N2O",rows = c(4,19))
data_gfed_n2o <- gather(data_gfed_n2o,year,value,`1997`:`2022`)
data_gfed_n2o <- data_gfed_n2o %>%
mutate(var="n2o") %>%
select(year,var,value) %>%
mutate(value=value*1E9) %>% #1e9 grams to grams
mutate(value=value/1e6) %>%
mutate(value=value/1e6)
View(data_edgar_n2o)
12.065668
12.065668
12.065668-9.653301
11.525145-9.438901
382.538716-17.51
View(data_primap_ch4)
382.538716-318.0
View(data_primap_n2o)
12.065668-10.700
